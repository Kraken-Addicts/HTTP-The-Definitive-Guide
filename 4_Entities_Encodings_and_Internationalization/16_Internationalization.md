## 16장 :octopus: 국제화



문자집합 인코딩과 언어 태그를 다룬다.

HTTP가 어떻게 여러 문자들의 체계 및 표준과 상호작용하는지.



### 16.1 국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지원



HTTP메시지는 어느 언어로된 콘텐츠, 이미지, 영상 등을 실어나를 수 있다. HTTP에서 엔터티본운은 비트를 채운 상자일 뿐임.



서버는 클라이언트에게 문서, 문자의 언어를 **HTTP Content-Type charset 매개변수와 Content-Language 헤더**를 통해 알려준다



- 서버가 클라이언트에게 응답하는 헤더
  - Content-Type charset
  - Content-Language
  - 엔터티본문에 무엇이 들었는지, 어떻게 콘텐츠를 화면에 출력될 올바른 글자들로 바꾸는지, 그리고 그 텍스트가 어떤 언어에 해당하는지에 대해 서술
- 클라이언트가 서버에게 알려주는 헤더
  - Accept-Charset
  - Accept-Language
  - 사용자가 어떤 언어를 이해할 수 있고 어떤 알파벳의 코딩 알고리즘이 브라우저에 설치되어있는지 알려줌. 그 중 클라이언트는 서버에게 어떤 차셋 인코딩알고리즘과 언어를 이해하는지, 무엇을 선호하는지 알려줌

클라이언트는 차셋 인코딩알고리즘들과 언어들을 이해하며 그중 무엇을 선호하는지 말해주기 위한 **Accept-Charset과 Accept-Language**헤더를 보낸다.



<br>



### 16.2 문자집합과 HTTP

국제 알파벳 스크립트, 그들의 문자집합 인코딩에 대해 다룬다.



#### 차셋은 글자를 비트로 변환하는 인코딩이다.



- `Content-Type: text/html; charset= iso-8859-6`은 콘텐츠 비트들을 글자로 디코딩하기 위해 `iso-8859-6`이 디코딩 기법을 사용하라고 말해주는 헤더임

<br>

#### 인코딩 과정

1. 데이터 비트를 받아 인코딩 구조(iso-8859-6)을 사용해 디코딩하여 문자코드를 만든다.

2. 문자집합에서 해당하는 글자를 찾는다.

3. 글꼴과 포매팅SW를 사용해 글자모양을 보여준다.



#### 잘못된 차셋은 잘못된 글자를 낳는다.

클라이언트가 잘못된 charset을 사용하면, 깨진 문자를 보여주게 될 것.



#### MIME 차셋 값

```
utf-8 UTF-8은 전 세계의 문자들에 대한 보편적 문자집합인 UCS(유니코드)를 표현하기 위한 흔
히 쓰이는 가변길이 문자 인코딩 구조다 UTF-8은 각 글자를 1 에서 6바이트로 표현하는 가
변길이 인코딩을 문자 코드 값에 사용한다 UTF-8으| 주요 기능 증 하나는 통상적인 7비트
아스키 문자열에 대한 하위호환성이다
```





HTML 콘벤츠에서 문자 집합은 문자 집합을 서술
하는 <META Hπ'P -EQUIV= “Content-Type" > 태그에서 찾을 수 있다.

문자집합이 명시적으로 나열되지 않으면 문서의 콘텐츠로부터 문자집합을 추측하려 시도한다.



만약 클라이언트가 추측하지 못했다면  <- iso 8859 1 인 것으로 가정한다.

```
 서유럽 언어를 지원하기 위한 ASCII의 8비트 확장이다 이것은 ASCII 코드
(0-127)를 온전히 유지한 채 여러 서유럽 글자들을 포함시키기 위해 하이 비트를 사용한다
```



클라이언트 - > 서버

- `Accept-Charset` : 클라이언트가 지원하는 문자인코딩 목록을 제공(클라이언트는 모든 종류의 문자코딩, 매핑시스템을 지원하지 않음)
- `Accept-Charset : iso-8859-1, utf-8`
- 이에 대응하는 `Content-Charset`응답 헤더는 존재하지 않음.





```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
</html>
```



---

### __16.1__ 　  국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지원　 `secho`

- 1번
  - 1. HTTP에서 엔터티본문은 그저 바이트들로 가 찬 상자에 불과하다 ( O / X )
    2. HTTP 메시지는 어떤 언어로 된 콘텐츠든, 이미지, 동영상 혹은 그 외 다른 종류의 미디어처럼 실어나를 수 있다. ( O / X)

<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">

1번

- 1. HTTP에서 엔터티본문은 그저 바이트들로 가 찬 상자에 불과하다 ( O / X )
  2. HTTP 메시지는 어떤 언어로 된 콘텐츠든, 이미지, 동영상 혹은 그 외 다른 종류의 미디어처럼 실어나를 수 있다. ( O / X)

- 정답 : 
  - 1. X - 비트에 불과함
  - 2. O 말 어떤 콘텐츠든 그대로 실어나를 수 있음

</div>
</details>
<br>

### __16.2__ 　  문자집합과 HTTP 　 `secho`

- 2번

- 보기를 보고 빈칸을 채워주세요!

- 보기 : `바이트`, `치즈바이트`, `비트`,  `iso-8859`, `utf-8`, `utf-16`, `content-language`, `content-type`, `accept-type` , `accept-cotent`, `accept-charset`

  - 1. Charset은 글자를 `___`로 변환하는 인코딩이다.

    2. `___` 이라는 MIME Charset값은 유니코드를 표현하기 위한 가변길이 문자 인코딩 구조다. 

       vscode나 다른 IDE툴의 html파일에서 `!`단축키를 사용하면 default로 작성되는 값이기도 하다.

       

       ```html
       <!DOCTYPE html>
       <html lang="en">
       <head>
         <meta charset="____">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
       ```

    3.  `_____` 헤더는 클라이언트가 서버에게 어떤 문자체계를 지원하는지에 대해 알려주는 헤더다

    4.  2번의 MIME 차셋 태그를 charset매개변수와 함께 `____`헤더에 담아보낸다.

<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">

- 2번

- 보기를 보고 빈칸을 채워주세요!

- 보기 : `바이트`, `치즈바이트`, `비트`,  `iso-8859`, `utf-8`, `utf-16`, `content-language`, `content-type`, `accept-type` , `accept-cotent`, `accept-charset`

  - 1. Charset은 글자를 `___`로 변환하는 인코딩이다.

    2. `___` 이라는 MIME Charset값은 유니코드를 표현하기 위한 가변길이 문자 인코딩 구조다. 

       vscode나 다른 IDE툴의 html파일에서 `!`단축키를 사용하면 default로 작성되는 값이기도 하다.

       

       ```html
       <!DOCTYPE html>
       <html lang="en">
       <head>
         <meta charset="____">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
       ```

    3.  `_____` 헤더는 클라이언트가 서버에게 어떤 문자체계를 지원하는지에 대해 알려주는 헤더다

    4.  2번의 MIME 차셋 태그를 charset매개변수와 함께 `____`헤더에 담아보낸다.



-  정답 :
  - 1. 비트
    2. utf-8
    3. accept-charset
    4. content-type



##### 다 읽었으면 잠깐 봐염

인코딩방식과 유니코드는 다르다.

- `유니코드` : 아스키코드로 표현할 수 없는 문자들을 유니코드로 매핑. 2^20 + 2^16개의 공간을 사용하고 있음. 전 세계의 모든 문자를 특정 숫자(키)와 1:1로 매핑한 것. 

인코딩방식

- `EUC-KR` : 한글 표현을 위한 문자 인코딩 방식. 한국에서 통용되는 한글, 한자, 영문을 표현 할 수 있음. 한글 2byte
- `UTF-8` : 유니코드를 사용한 인코딩 방식. 전 세계 모든 문자를 동일하게 표현할 수 있음. 주요 웹사이트 1만개중 51%정도 사용함. 최신 기술을 UTF-8방식으로 기본적인 지원. 한글을 3byte로 처리

</div>
</details>
<br>

### __16.3.1~4__ 　  다중언어 문자 인코딩에 대한 지침(1)　 `jehong`
- 여기에
- 문제를 작성해주세요
<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">
  
- 여기에
- 해설을 작성해주세요

</div>
</details>
<br>

### __16.3.5~6__ 　  다중언어 문자 인코딩에 대한 지침(2)　 `taelee`
- 여기에
- 문제를 작성해주세요
<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">
  
- 여기에
- 해설을 작성해주세요

</div>
</details>
<br>

### __16.4__ 　  언어 태그와 HTTP　 `yeosong`

### __16.4.1~2__ 　  Content-Language 헤더, Accept-Language 헤더

1) 해당 콘텐츠가 어떤 언어 사용자를 대상으로 하고 있는지 서술하는 헤더는 Accept-Language 헤더다. (O ------- X)
  
2) Accept-Language 헤더는 오디오 클립, 동영상, 애플리케이션 등 이 미디어가 어떤 언어 사용자를 위한 것인지 나타내기 위해 쓴다. (O ------- X)

3) Accept-Language 헤더는 클라이언트가 언어 제약과 선호도를 서버에게 전달 할 수 있게 해준다. (O ------- X)

### __16.4.3__ 　  언어 태그의 종류 (문항 없음)

- 일반적인 언어의 종류
- 특정 국가의 언어
- 방언
- 지방어
- 표준 언어
- 비표준 언어

### __16.4.4__ 　  서브태그

4) 첫 번째 서브태그는 'primary subtag'라고 불리며, sgn-US-MA에서 US를 뜻한다. (O ------- X)

5) 세 번째 서브태그는 표준 일람에 등록되어 있지 않다. (O ------- X)

### __16.4.5__ 　  대소문자의 구분 및 표현

6) 모든 태그는 대소문자를 엄격하게 구분하여 대문자인 경우 나라를, 소문자인 경우 언어를 나타낸다. (O ------- X)

### __16.4.6__ 　  IANA 언어 태그 등록

7) IANA는 RFC3066의 규칙에 따른다. 만약 언어 태그가 표준 국가와 언어 값의 조합이라면 그 태그는 IANA에 등록되지 않아도 된다. (O ------- X)

### __16.4.7__ 　  첫 번째 서브태그: 이름 공간 (문항 없음)

- 첫 번째 서브태그는 두 글자라면 `ISO 639`와 `ISO 639-1` 표준의 언어코드다. 세 글자라면 ISO 639-2 표준과 확장에 열거된 언어 코드다.
- 첫 번째 서브태그에 'i'가 있다면, 이 언어 태그는 `IANA`에 등록된 것이다.

### __16.4.8__ 　  두 번째 서브태그: 이름 공간 (문항 없음)

- 두 번째 서브태그는 두 글자라면 `ISO 3166`에 정의된 국가/지역이다.
- 3~8 글자라면, `IANA`에 등록된 것이다.
- 한 글자라면, 뭔가 잘못된 것이다.

### __16.4.9__ 　  나머지 서브태그: 이름 공간

8) 세 번째 혹은 그 이후의 서브태그는 6자 이하의 알파벳과 숫자로 이루어져야 한다. (O ------- X)

### __16.4.10__ 　  선호 언어 설정하기

9) 클라이언트는 어디에서 선호 언어를 설정할 수 있을까? (단답식) 

### __16.4.11__ 　  언어 태그 참조표 (문항 없음)

- 교재 673p 부터 상세히 나와있다.


<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">
  
### __16.4.1~2__ 　  Content-Language 헤더, Accept-Language 헤더

1) 해당 콘텐츠가 어떤 언어 사용자를 대상으로 하고 있는지 서술하는 헤더는 Accept-Language 헤더다. **(X)**
>  Content-Language 헤더에 대한 설명이다.
  
2) Accept-Language 헤더는 오디오 클립, 동영상, 애플리케이션 등 이 미디어가 어떤 언어 사용자를 위한 것인지 나타내기 위해 쓴다. **(X)**
>  Content-Language 헤더에 대한 설명이다.
  
3) Accept-Language 헤더는 클라이언트가 언어 제약과 선호도를 서버에게 전달 할 수 있게 해준다. **(O)**

### __16.4.3__ 　  언어 태그의 종류 (문항 없음)

- 일반적인 언어의 종류
- 특정 국가의 언어
- 방언
- 지방어
- 표준 언어
- 비표준 언어

### __16.4.4__ 　  서브태그

4) 첫 번째 서브태그는 'primary subtag'라고 불리며, sgn-US-MA에서 US를 뜻한다. **(X)**
> 여기서 첫 번째 서브태그(=주 서브태그)는 sgn이다.
  
5) 세 번째 서브태그는 표준 일람에 등록되어 있지 않다. **(O)** 

### __16.4.5__ 　  대소문자의 구분 및 표현

6) 모든 태그는 대소문자를 엄격하게 구분하여 대문자인 경우 나라를, 소문자인 경우 언어를 나타낸다. **(X)**
> 규칙으로 엄격하게 정해져있지는 않다. 그러나 관용적으로 대문자-나라, 소문자-언어를 뜻하는 건 맞다.

### __16.4.6__ 　  IANA 언어 태그 등록

7) IANA는 RFC3066의 규칙에 따른다. 만약 언어 태그가 표준 국가와 언어 값의 조합이라면 그 태그는 IANA에 등록되지 않아도 된다. **(O)**

### __16.4.7__ 　  첫 번째 서브태그: 이름 공간 (문항 없음)

- 첫 번째 서브태그는 두 글자라면 `ISO 639`와 `ISO 639-1` 표준의 언어코드다. 세 글자라면 ISO 639-2 표준과 확장에 열거된 언어 코드다.
- 첫 번째 서브태그에 'i'가 있다면, 이 언어 태그는 `IANA`에 등록된 것이다.

### __16.4.8__ 　  두 번째 서브태그: 이름 공간 (문항 없음)

- 두 번째 서브태그는 두 글자라면 `ISO 3166`에 정의된 국가/지역이다.
- 3~8 글자라면, `IANA`에 등록된 것이다.
- 한 글자라면, 뭔가 잘못된 것이다.

### __16.4.9__ 　  나머지 서브태그: 이름 공간

8) 세 번째 혹은 그 이후의 서브태그는 6자 이하의 알파벳과 숫자로 이루어져야 한다. **(X)** 
> 8자 이하

### __16.4.10__ 　  선호 언어 설정하기

9) 클라이언트는 어디에서 선호 언어를 설정할 수 있을까? (단답식) --- `웹 브라우저`

- 크롬: 설정 > 고급 설정 표시 > 언어 및 입력 설정
- IE: 도구 > 인터넷옵션 > 언어

### __16.4.11__ 　  언어 태그 참조표 (문항 없음)

- 교재 673p 부터 상세히 나와있다.


</div>
</details>
<br>

### __16.5 ~ 16.6__ 　  국제화된 URI + 기타 고려사항　 `hylee`

1. 오늘날의 URI에서는 ( 아스키 코드 / UTF-8 )를 사용할 수 있어서 다양한 문자들을 별 문제없이 사용할 수 있다.

2. URI의 이스케이프는?

3. HTTP 애플리케이션이 URI를 언이스케이핑을 할 때 제일 중요한 것은?

4. (______) 라는 방법을 이용해 우리는 다국어로 입력된 도메인 이름을 알파벳과 숫자 등으로 된 도메인 이름으로 변환해서 사용할 수 있다.

   `<보기>`<br> `유니코드(Unicode)`, `유나코드(Yunacode)`, `퓨니코드(Punycode)`, `트랜스코드(transcode)`


<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">
  
1. 오늘날의 URI에서는 `UTF-8`를 사용할 수 있어서 다양한 문자들을 별 문제없이 사용할 수 있다.

2. URI의 이스케이프는?

  > `정답 : % <HEX> <HEX>`

      URI 이스케이프는 퍼센트 글자(%) 하나와 뒤이은 16진수 글자 둘로 이루어진 세 글자 문자열이다.
    
3. HTTP 애플리케이션이 URI를 언이스케이핑을 할 때 제일 중요한 것은?

  > `정답 : URI를 두번 언이스케이핑 되지 않도록 하는 것 `

      왜냐하면 이스케이핑된 퍼센트 기호를 포함한 URl를 언이스케이핑하면 
      퍼센트 기호가 포함된 URl가 만들어지게 될 것인데, 여기서 잘못하여
      한 번 더 언이스케이핑을 하게 되면 이 퍼센트 기호 뒤에 있는 문자들이 
      이스케이프의 일부인 것처럼 처리되어 데이터의 손실을 유발할 수도 있기 때문이다.

4. (______) 라는 방법을 이용해 우리는 다국어로 입력된 도메인 이름을 알파벳과 숫자 등으로 된 도메인 이름으로 변환해서 사용할 수 있다.
    `<보기>`<br> `유니코드(Unicode)`, `유나코드(Yunacode)`, `퓨니코드(Punycode)`, `트랜스코드(transcode)`
   
   > `정답 : 퓨니코드(Punycode)`
   
       국제화 문자를 포함하는 도메인 이름을 ‘국제화 도메인 이름’이라고 하는데,
       오늘날 대부분의 웹브라우저가 퓨니코드(punycode)를 이용해 이를 지원한다. 
       퓨니코드란 유니코드 문자열을 호스트 명에서 사용 가능한 문자만으로
       이루어진 문자열로 변환히는 방법이다.
       

</div>
</details>
<br>


